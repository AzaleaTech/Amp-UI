"use strict";Component({properties:{disabled:{type:Boolean,default:!1},startCount:{type:Boolean,default:!1},totalTime:{type:Number,value:60},content:{type:String,value:"获取验证"}},data:{remainingTime:0},lifetimes:{ready:function(){this.getStorageTime()}},observers:{startCount:function(t){!0===t&&(this.setData({remainingTime:this.data.totalTime}),this.setData({content:""}),this.countDownTime())}},methods:{handleClickButton:function(){this.triggerEvent("click")},countDownTime:function(){var t=this,e=setInterval(function(){wx.setStorage({key:"remainingTime",data:t.data.remainingTime}),t.setData({remainingTime:t.data.remainingTime-1}),0===t.data.remainingTime&&(t.setData({content:"重新获取"}),clearInterval(e),wx.clearStorage("remainingTime"),wx.clearStorage("timer"))},1e3);wx.setStorage({key:"timer",data:e})},getStorageTime:function(){var e=this;wx.getStorage({key:"remainingTime",success:function(t){t=t.data;0<t&&(e.setData({remainingTime:t,content:""}),e.countDownTime())}})}}});