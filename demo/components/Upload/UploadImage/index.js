"use strict";Component({properties:{imgs:{type:Array,value:[]},isCropper:{type:Boolean,value:!1},limit:{type:Number,value:0},sourceType:{type:Array,value:["album","camera"]},disabled:{type:Boolean,value:!1},width:{type:Number,value:140},height:{type:Number,value:140},size:{type:Number,value:-1}},data:{imgList:[],imgUrl:void 0},lifetimes:{attached:function(){this.setData({imgList:this.properties.imgs})}},methods:{previewImage:function(t){var e=t.currentTarget.dataset.index,t=this.data.imgList;wx.previewImage({current:t[e],urls:t})},removeImage:function(t){this.data.imgList.splice(t.currentTarget.dataset.index,1),this.setData({imgList:this.data.imgList}),this.triggerEvent("change",{status:"success",value:this.data.imgList})},chooseImage:function(){var e=this;wx.chooseImage({sizeType:["original","compressed"],sourceType:this.properties.sourceType,count:this.data.limit,success:function(t){0<e.properties.size&&1024*e.properties.size<t.tempFiles[0].size?e.triggerEvent("change",{status:"error",msg:"上传的图片大小不得超过".concat(e.properties.size,"kb")}):e.properties.isCropper?(e.setData({imgUrl:t.tempFilePaths[0]}),e.setData({showCropper:!0})):(e.data.imgList=e.data.imgList.concat(t.tempFilePaths),e.setData({imgList:e.data.imgList}),e.triggerEvent("change",{status:"success",value:e.data.imgList}))},fail:function(t){console.log("chooseImage error",t),e.triggerEvent("change",{status:"error",msg:t})},complete:function(){}})},handleSave:function(t){var e=t.detail,t=e.item;e.fileName;this.data.imgList.push(t),this.setData({imgList:this.data.imgList,showCropper:!1}),this.triggerEvent("change",{status:"success",value:this.data.imgList})},handleCancel:function(){this.data.imgList.push(this.data.imgUrl),this.setData({imgList:this.data.imgList,showCropper:!1}),this.triggerEvent("change",{status:"success",value:this.data.imgList})}}});