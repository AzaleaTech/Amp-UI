@import '../styles/_index.less';

.btn-color(@color) {
  background: @color;
  color: @white-color;
}

.btn-size(@font-size, @height, @line-height: @height) {
  height: @height;
  font-size: @font-size;
  line-height: @line-height;
}

.a-btn {
  margin-bottom: @btn-inline-margin;
  border-radius: @btn-border-radius;

  .btn-size(@btn-font-size, @btn-circle-size);
  .flex-type(center);

  &-radius {
    /** 圆角默认为高度大小一半 */
    &-large {
      border-radius: calc(@btn-circle-size-large / 2);
    }

    &-default {
      border-radius: calc(@btn-circle-size / 2);
    }

    &-small {
      border-radius: calc(@btn-circle-size-small / 2);
    }
  }

  &-size {
    &-large {
      .btn-size(@btn-font-size-large, @btn-circle-size-large);
    }

    &-default {
      .btn-size(@btn-font-size, @btn-circle-size);
    }

    &-small {
      .btn-size(@btn-font-size-small, @btn-circle-size-small);
    }
  }

  &-type {
    &-default {
      border: 2rpx solid @primary-color;
      background: @white-color;
      color: @primary-color;
    }

    &-primary {
      .btn-color(@primary-color);
    }

    &-success {
      .btn-color(@success-color);
    }

    &-warning {
      .btn-color(@warning-color);
    }

    &-error {
      .btn-color(@error-color);
    }
  }

  &-hover {
    &.btn-type-default {
      .btn-color(@primary-color);
    }

    &::after {
      position: absolute;
      top: 0;
      left: 0;
      background-color: @btn-active-hover;
      content: '';
    }
  }

  &-disabled::before {
    position: absolute;
    top: 0;
    left: 0;
    background-color: @btn-disabled-hover;
    content: '';

    .set-size(100%);
  }

  &-inline {
    display: inline-flex;
    margin: @btn-inline-margin;
  }

  &-child {
    &-normal {
      margin-right: 20rpx !important;
    }

    &-last {
      margin-right: 0;
    }

    &-left {
      margin-right: 0;
      width: 316rpx !important;
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &-right {
      margin-left: 0;
      width: 316rpx !important;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }
}

button::after {
  border: none;
}

.icon-btn {
  width: 120rpx;

  .flex-type(center, column);

  &-label {
    width: 100%;
    color: @text-color;
    text-align: center;
    font-size: @text-size-13;

    .text-truncate();
  }
}
