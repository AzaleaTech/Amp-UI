@import '../styles/_index.less';

@top-left: top-left;
@top-right: top-right;
@bottom-left: bottom-left;
@bottom-right: bottom-right;

.tag-size(@font-size, @padding, @height) {
  padding: 0 @padding;
  height: @height;
  font-size: @font-size;
  line-height: @height;
}

.bubble-position(@position, @color) when(@position=@top-left) {
  top: -8px;
  left: 8%;
  border-bottom-color: @color;
  border-left-color: @color;
  transform: skewY(-8deg);
}

.bubble-position(@position, @color) when(@position=@top-right) {
  top: -8px;
  right: 8%;
  border-bottom-color: @color;
  border-right-color: @color;
  transform: skewY(8deg);
}

.bubble-position(@position, @color) when(@position=@bottom-left) {
  top: 100%;
  left: 8%;
  border-top-color: @color;
  border-left-color: @color;
  transform: skewY(8deg);
}

.bubble-position(@position, @color) when(@position=@bottom-right) {
  top: 100%;
  right: 8%;
  border-top-color: @color;
  border-right-color: @color;
  transform: skewY(-8deg);
}

.tag-bubble(@bubble-position, @color) {
  &::after {
    position: absolute;
    border: 4px solid transparent;
    content: '';
    .bubble-position(@bubble-position, @color);
  }
}

.tag-type(@color) {
  border: 1rpx solid @color;
  background-color: @color;
  color: @white-color;

  &-@{top-left} {
    .tag-bubble(@top-left, @color)
  }

  &-@{top-right} {
    .tag-bubble(@top-right, @color)
  }

  &-@{bottom-left} {
    .tag-bubble(@bottom-left, @color)
  }

  &-@{bottom-right} {
    .tag-bubble(@bottom-right, @color)
  }
}

.tag-plain(@color) {
  border: 1rpx solid @color;
  background-color: @white-color;
  color: @color;
}

.a-tag {
  position: relative;
  display: inline-block;
  min-width: 40rpx;

  border-radius: 4rpx;
  text-align: center;

  .tag-size(@tag-font-size, 8px, 19px);

  &-small {
    .tag-size(@tag-font-size-small, 8px, 16px);
  }

  &-large {
    .tag-size(@tag-font-size-large, 10px, 22px);
  }

  &-default {
    .tag-type(@tag-base-color);
    background-color: @tag-base-color;
    border: 2rpx solid @tag-base-color;
    color: @title-color;
  }

  &-primary {
    .tag-type(@tag-primary-color);
  }

  &-success {
    .tag-type(@tag-success-color);
  }

  &-warning {
    .tag-type(@tag-warning-color);
  }

  &-error {
    .tag-type(@tag-error-color);
  }

  &-circle {
    border-radius: 20rpx;
  }

  &-plain {
    background-color: @white-color;

    &.a-tag-primary {
      .tag-plain(@tag-primary-color);
    }

    &.a-tag-success {
      .tag-plain(@tag-success-color);
    }

    &.a-tag-warning {
      .tag-plain(@tag-warning-color);
    }

    &.a-tag-error {
      .tag-plain(@tag-error-color);
    }
  }

  &-disabled {
    opacity: @disabled-opacity;
  }
}