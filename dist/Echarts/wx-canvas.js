"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var WxCanvas=function(){function i(e,t,n,a){_classCallCheck(this,i),this.ctx=e,this.canvasId=t,this.chart=null,(this.isNew=n)?this.canvasNode=a:this._initStyle(e),this._initEvent()}return _createClass(i,[{key:"getContext",value:function(e){if("2d"===e)return this.ctx}},{key:"setChart",value:function(e){this.chart=e}},{key:"attachEvent",value:function(){}},{key:"detachEvent",value:function(){}},{key:"_initCanvas",value:function(e,n){e.util.getContext=function(){return n},e.util.$override("measureText",function(e,t){return n.font=t||"12px sans-serif",n.measureText(e)})}},{key:"_initStyle",value:function(n){var e=arguments;["fillStyle","strokeStyle","globalAlpha","textAlign","textBaseAlign","shadow","lineWidth","lineCap","lineJoin","lineDash","miterLimit","fontSize"].forEach(function(t){Object.defineProperty(n,t,{set:function(e){("fillStyle"!==t&&"strokeStyle"!==t||"none"!==e&&null!==e)&&n["set"+t.charAt(0).toUpperCase()+t.slice(1)](e)}})}),n.createRadialGradient=function(){return n.createCircularGradient(e)}}},{key:"_initEvent",value:function(){var n=this;this.event={};[{wxName:"touchStart",ecName:"mousedown"},{wxName:"touchMove",ecName:"mousemove"},{wxName:"touchEnd",ecName:"mouseup"},{wxName:"touchEnd",ecName:"click"}].forEach(function(t){n.event[t.wxName]=function(e){e=e.touches[0];n.chart.getZr().handler.dispatch(t.ecName,{zrX:"tap"===t.wxName?e.clientX:e.x,zrY:"tap"===t.wxName?e.clientY:e.y})}})}},{key:"width",get:function(){return this.canvasNode?this.canvasNode.width:0},set:function(e){this.canvasNode&&(this.canvasNode.width=e)}},{key:"height",get:function(){return this.canvasNode?this.canvasNode.height:0},set:function(e){this.canvasNode&&(this.canvasNode.height=e)}}]),i}();exports.default=WxCanvas;